{% extends "base.html" %}
{% block title %}Home{% endblock %}

{% block content %}

<div class="donate-wrapper">
  <a href="{{ url_for('donate') }}" class="heart-3d" aria-label="Donate">
    <span class="heart-text">‚ù§<br>DONATE</span>
  </a>
</div>

<style>
/* Zentrieren */
.donate-wrapper{
  display:flex;
  justify-content:center;
  align-items:center;
  margin:42px 0 28px 0;
}

/* === HERZ: runder + realistischer (mit 3D) === */
.heart-3d{
  position:relative;
  width:190px;
  height:170px;

  /* Sticker-Drehung */
  transform: rotate(-18deg);

  display:flex;
  align-items:center;
  justify-content:center;
  text-decoration:none;

  /* 3D Look: Gradient + Schatten */
  background:
    radial-gradient(circle at 35% 28%, rgba(255,255,255,0.35), rgba(255,255,255,0) 55%),
    radial-gradient(circle at 70% 25%, rgba(255,255,255,0.18), rgba(255,255,255,0) 60%),
    linear-gradient(145deg, #d31625, #a90f1a);

  box-shadow:
    0 22px 40px rgba(0,0,0,0.18),
    0 12px 18px rgba(193,18,31,0.35);

  /* Pulsieren */
  animation: heartPulse 2.4s ease-in-out infinite;

  /* Smooth */
  transition: transform .15s ease, box-shadow .15s ease;
}

/* Zwei runde Herz-Lappen */
.heart-3d::before,
.heart-3d::after{
  content:"";
  position:absolute;
  width:120px;
  height:120px;
  border-radius:50%;
  top:10px;

  background:
    radial-gradient(circle at 35% 28%, rgba(255,255,255,0.35), rgba(255,255,255,0) 55%),
    linear-gradient(145deg, #d31625, #a90f1a);
}
.heart-3d::before{ left:18px; }
.heart-3d::after{ right:18px; }

/* Herz-Silhouette (runder) */
.heart-3d{
  clip-path: path("M95 165 C25 120 5 80 25 50 C40 25 70 25 95 45 C120 25 150 25 165 50 C185 80 165 120 95 165 Z");
}

/* Text */
.heart-text{
  position:relative;
  z-index:5;

  /* Text bleibt gerade */
  transform: rotate(18deg);

  color:white;
  font-weight:900;
  font-size:30px;
  text-align:center;
  line-height:1.05;

  text-shadow:
    0 2px 0 rgba(0,0,0,0.18),
    0 8px 18px rgba(0,0,0,0.22);
}

/* Hover: leicht anheben */
.heart-3d:hover{
  transform: rotate(-18deg) translateY(-3px);
  box-shadow:
    0 26px 48px rgba(0,0,0,0.20),
    0 14px 20px rgba(193,18,31,0.38);
}

/* Pulsieren (Rotation bleibt drin!) */
@keyframes heartPulse{
  0%   { transform: rotate(-18deg) scale(1); }
  45%  { transform: rotate(-18deg) scale(1.06); }
  70%  { transform: rotate(-18deg) scale(1.02); }
  100% { transform: rotate(-18deg) scale(1); }
}

/* Mobile */
@media (max-width: 480px){
  .heart-3d{ width:165px; height:150px; }
  .heart-text{ font-size:26px; }
}
</style>

<ul class="todo-list">
  {% for todo in todos %}
    <li class="todo-item">
      <form action="/complete" method="POST" class="todo-complete-form">
        <input type="hidden" name="id" value="{{ todo.id }}">

        <input
          type="checkbox"
          class="todo-checkbox"
          id="todo-{{ todo.id }}"
          name="complete"
          value="1"
          onchange="this.form.submit()">

        <label for="todo-{{ todo.id }}" class="todo-content">
          {{ todo.content }}
          <span class="todo-date">üìÖ {{ todo.due.strftime('%d.%m.%Y %H:%M') }}</span>
        </label>
      </form>
    </li>
  {% else %}
    <div>Nichts zu tunüéâ</div>
  {% endfor %}
</ul>

<div class="todo-form">
  <form action="." method="POST">
    <div class="form-group">
      <label for="contents">TODO</label>
      <input type="text" id="contents" name="contents" class="form-control"
        placeholder="Neues TODO eingeben‚Ä¶" required />
    </div>

    <div class="form-group">
      <label for="due_at">F√§llig am</label>
      <input id="due_at" name="due_at" type="datetime-local" class="form-control" required>
      <p class="help-block">W√§hle Datum & Uhrzeit (z. B. 07.11.2025 14:30).</p>
    </div>

    <button type="submit" class="btn btn-primary">Hinzuf√ºgen</button>
  </form>
</div>

{% endblock %}
